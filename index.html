<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corre mejor</title>
	<link rel="manifest" href="manifest.json">
<link rel="icon" type="image/png" sizes="180x180" href="icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="icon.png">
<meta name="theme-color" content="#4F46E5">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .tab-active { background: rgb(79 70 229); color: white; }
        .tab-inactive { background: rgb(243 244 246); color: rgb(75 85 99); }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
    <div class="max-w-6xl mx-auto">
        <!-- Header -->
        <div class="bg-white rounded-2xl shadow-xl p-8 mb-6">
            <h1 class="text-4xl font-bold text-gray-800 text-center">Corre mejor</h1>
            <p class="text-center text-gray-600 text-lg">Entrenamiento profesional</p>
        </div>

      <!-- Tabs -->
<div class="bg-white rounded-2xl shadow-xl mb-6 p-2">
    <div class="flex gap-2 flex-wrap">
        <button onclick="changeTab('hf')" id="tab-hf" class="flex-1 min-w-[100px] py-3 px-4 rounded-xl font-semibold tab-active">Frecuencia</button>
        <button onclick="changeTab('zeiten')" id="tab-zeiten" class="flex-1 min-w-[100px] py-3 px-4 rounded-xl font-semibold tab-inactive">Tiempos</button>
        <button onclick="changeTab('tempos')" id="tab-tempos" class="flex-1 min-w-[100px] py-3 px-4 rounded-xl font-semibold tab-inactive">Ritmos</button>
        <button onclick="changeTab('plan')" id="tab-plan" class="flex-1 min-w-[100px] py-3 px-4 rounded-xl font-semibold tab-inactive">Plan de entrenamiento</button>
        <button onclick="changeTab('empfehlungen')" id="tab-empfehlungen" class="flex-1 min-w-[100px] py-3 px-4 rounded-xl font-semibold tab-inactive">Recomendaciones</button>
    </div>
</div>

        <!-- HF Content -->
        <div id="content-hf">
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <h2 class="text-2xl font-bold mb-6">Calculadora zonas frecuencia</h2>
                <div class="grid md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block text-sm font-semibold mb-2">Frecuencia máxima</label>
                        <input type="number" id="hfMax" placeholder="z.B. 185" class="w-full px-4 py-3 border-2 rounded-xl">
                    </div>
                    <div>
                        <label class="block text-sm font-semibold mb-2">Edad (opcional)</label>
                        <input type="number" id="alter" placeholder="z.B. 35" class="w-full px-4 py-3 border-2 rounded-xl">
                    </div>
                </div>
                <div id="hfResult"></div>
            </div>
        </div>

        <!-- Zeiten Content -->
        <div id="content-zeiten" class="hidden">
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <h2 class="text-2xl font-bold mb-6">Pronóstico marcas</h2>
                <div class="grid md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <h3 class="font-bold mb-4">Tu marca 10K</h3>
                        <input type="number" id="min10k" placeholder="Minuten" class="w-full px-4 py-3 border-2 rounded-xl mb-2">
                        <input type="number" id="sek10k" placeholder="Sekunden" class="w-full px-4 py-3 border-2 rounded-xl">
                    </div>
                    <div>
                        <h3 class="font-bold mb-4">O Marca maratón</h3>
                        <input type="number" id="hMarathon" placeholder="Stunden" class="w-full px-4 py-3 border-2 rounded-xl mb-2">
                        <input type="number" id="minMarathon" placeholder="Minuten" class="w-full px-4 py-3 border-2 rounded-xl">
                    </div>
                </div>
                <div id="zeitResult"></div>
            </div>
        </div>

        <!-- Tempos Content -->
        <div id="content-tempos" class="hidden">
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <h2 class="text-2xl font-bold mb-6">Ritmos de entrenamientos</h2>
                <div class="grid md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <h3 class="font-bold mb-4">Tu marca 10K</h3>
                        <input type="number" id="tMin10k" placeholder="Minuten" class="w-full px-4 py-3 border-2 rounded-xl mb-2">
                        <input type="number" id="tSek10k" placeholder="Sekunden" class="w-full px-4 py-3 border-2 rounded-xl">
                    </div>
                    <div>
                        <h3 class="font-bold mb-4">O Tu marca de maratón</h3>
                        <input type="number" id="tHMarathon" placeholder="Stunden" class="w-full px-4 py-3 border-2 rounded-xl mb-2">
                        <input type="number" id="tMinMarathon" placeholder="Minuten" class="w-full px-4 py-3 border-2 rounded-xl">
                    </div>
                </div>
                <div class="mb-4">
                    <button onclick="setZiel('10k')" id="ziel10k" class="px-6 py-3 bg-indigo-600 text-white rounded-xl mr-2">10K</button>
                    <button onclick="setZiel('marathon')" id="zielMarathon" class="px-6 py-3 bg-gray-200 rounded-xl">Marathon</button>
                </div>
                <div id="tempoResult"></div>
            </div>
        </div>

<!-- Empfehlungen Content -->
     <div className="bg-white rounded-2xl shadow-xl p-8">
            <h2 className="text-3xl font-bold text-gray-800 mb-4 text-center">
              Reflexiones y recomendaciones para preparar un maratón
            </h2>
            <p className="text-center text-lg text-indigo-600 font-semibold mb-8">
              Por Manolo "El Campanero"
            </p>

            <div className="bg-gradient-to-r from-indigo-50 to-blue-50 p-6 rounded-xl mb-8 border-l-4 border-indigo-500">
              <p className="text-gray-700 leading-relaxed italic">
                Correr un maratón no es solo cubrir 42.195 metros: es un proceso de transformación fisiológica, mental y emocional que deja una huella profunda en quien lo vive. A lo largo de más de 45 años corriendo, con 28 maratones completados y una marca personal por debajo de 2h19', he aprendido que el éxito en esta distancia nace de la combinación exacta entre ciencia, constancia y pasión. Estas líneas recogen reflexiones técnicas y emocionales para ayudarte a preparar tu maratón con cabeza, corazón y respeto por la distancia.
              </p>
            </div>

            <div className="space-y-6 max-h-[600px] overflow-y-auto pr-4">
              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">1. La decisión: ¿por qué un maratón?</h3>
                <p className="text-gray-700 leading-relaxed">
                  El maratón está de moda, pero no es una moda. Es una elección seria que exige madurez deportiva. Antes de afrontarlo, es recomendable llevar al menos dos años corriendo de forma regular y haber competido en 10 km y media maratón. Preparar un maratón implica reorganizar tu vida: horarios, descanso, alimentación y prioridades. No es una renuncia, es una inversión emocional en un sueño que te hará crecer como corredor y como persona.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">2. Salud: la base del rendimiento</h3>
                <p className="text-gray-700 leading-relaxed">
                  Antes de iniciar la preparación, realiza un chequeo médico completo. Un electrocardiograma, una prueba de esfuerzo y una analítica básica son herramientas imprescindibles para entrenar con seguridad. La salud no es negociable: sin ella no hay rendimiento, ni disfrute, ni maratón.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">3. Planificación: semanas y estructura</h3>
                <p className="text-gray-700 leading-relaxed">
                  Entre 8 y 11 semanas de preparación específica suelen ser suficientes si existe una buena base previa. La clave está en la progresión: aumentar volumen e intensidad de forma controlada, respetando los principios de sobrecarga, recuperación y adaptación.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">4. Entorno de entrenamiento: espacio y compañía</h3>
                <p className="text-gray-700 leading-relaxed">
                  Entrena en recorridos conocidos, cercanos a casa, que faciliten la logística y el control del entrenamiento. Siempre que sea posible, entrena acompañado: el grupo sostiene en los días difíciles y multiplica la motivación. El maratón se corre solo, pero se prepara mejor en equipo.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">5. Objetivo realista: mucho más que una marca</h3>
                <p className="text-gray-700 leading-relaxed">
                  En el primer maratón, el objetivo principal es llegar fuerte y entero a la meta. La marca llegará como consecuencia del trabajo bien hecho. Cruzar la línea de llegada por primera vez es una experiencia emocional difícil de describir: lágrimas, orgullo, silencio interior y una certeza profunda de haberlo dado todo.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">6. Metodología de entrenamiento</h3>
                <p className="text-gray-700 leading-relaxed mb-3">
                  Combina tres pilares fundamentales:
                </p>
                <ul className="list-disc list-inside text-gray-700 space-y-2 ml-4">
                  <li>Volumen aeróbico (carreras suaves y largas) para desarrollar la base fisiológica.</li>
                  <li>Ritmo de maratón para optimizar la economía de carrera y la tolerancia al esfuerzo específico.</li>
                  <li>Trabajo de calidad (cambios de ritmo, carrera intensiva, progresivos, cuestas) para mejorar el VO₂máx y el umbral aeróbico.</li>
                </ul>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">7. Ritmos y carga semanal</h3>
                <p className="text-gray-700 leading-relaxed">
                  El corredor popular debería moverse entre 60 y 70 km semanales, adaptándolo a su nivel. Los ritmos deben ser mayoritariamente aeróbicos (zona 2–3), donde se construye la resistencia real. Entrenar despacio no es perder el tiempo: es ganar futuro.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">8. Control de la intensidad: pulsómetro y sensaciones</h3>
                <p className="text-gray-700 leading-relaxed">
                  Conocer tus pulsaciones máximas y tu umbral aeróbico te permitirá entrenar con precisión. La tecnología es útil, pero no olvides escuchar tu cuerpo: la fatiga, el descanso y las emociones también son datos.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">9. La tirada larga: el laboratorio del maratón</h3>
                <p className="text-gray-700 leading-relaxed">
                  La carrera larga es el entrenamiento más importante. Realízala el domingo por la mañana, simulando la competición. Es aquí donde se entrena el metabolismo, la mente y la paciencia.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">10. Tiempo mejor que kilómetros</h3>
                <p className="text-gray-700 leading-relaxed">
                  Para la mayoría de corredores, entrenar por tiempo es más efectivo: 2h15'–3h00' de carrera continua desarrollan mejor las adaptaciones que una cifra rígida de kilómetros.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">11. Adaptación metabólica: entrenar en ayunas</h3>
                <p className="text-gray-700 leading-relaxed">
                  Correr la tirada larga en ayunas, a un 70–72% de la FC máxima, mejora la capacidad de utilizar grasas y ahorra glucógeno. Este proceso es clave para evitar el temido "muro del km 30". Es un entrenamiento fisiológico… y también un ejercicio de confianza.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">12. Recuperación: reconstruir para volver a crecer</h3>
                <p className="text-gray-700 leading-relaxed">
                  Nada se adapta sin recuperación. Tras la tirada larga, repón hidratos de carbono y proteínas de calidad: avena, fruta madura, patata cocida, arroz integral. Cada comida es una oportunidad para reconstruir tu cuerpo y tu ilusión.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">13. Alimentación consciente</h3>
                <p className="text-gray-700 leading-relaxed">
                  Una dieta basada en alimentos reales —verduras, frutas, legumbres, cereales integrales y aceites vírgenes— es la mejor ayuda ergogénica natural. Reduce el azúcar industrial: menos picos de glucosa, más estabilidad energética y emocional.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">14. Frecuencia de comidas y eficiencia metabólica</h3>
                <p className="text-gray-700 leading-relaxed">
                  Comer 2–3 veces al día favorece la flexibilidad metabólica, mejora la utilización de grasas y optimiza la digestión. Un sistema digestivo descansado deja más energía disponible para entrenar y recuperarse.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">15. Ritmo de competición: entrenar la confianza</h3>
                <p className="text-gray-700 leading-relaxed">
                  Una vez por semana, trabaja el ritmo de maratón. Empieza con 5 km y progresa hasta 12–15 km. No solo entrenas el cuerpo: entrenas la seguridad de saber que puedes sostener ese ritmo cuando más lo necesitas.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">16. Competiciones como test fisiológico y emocional</h3>
                <p className="text-gray-700 leading-relaxed">
                  Correr 10–15 km a ritmo de maratón o una media maratón a 4 semanas de la prueba es un excelente test. Sirve para validar la forma física, ensayar material y confirmar que el sueño es posible.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">17. Método alternativo: simplicidad eficaz</h3>
                <p className="text-gray-700 leading-relaxed">
                  Entrenar 2–3 veces por semana durante 70–80 minutos a 20–25 segundos más lento que el ritmo de maratón desarrolla una resistencia sólida y profunda. Es duro, silencioso y tremendamente efectivo.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">18. Zapatillas: confianza bajo los pies</h3>
                <p className="text-gray-700 leading-relaxed">
                  Las zapatillas deben ser una extensión de tu cuerpo. Nunca se estrenan el día del maratón. Úsalas durante toda la preparación en los entrenamientos a ritmo de competición: la confianza también se entrena.
                </p>
              </div>

              <div className="bg-white border-2 border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow">
                <h3 className="text-xl font-bold text-indigo-700 mb-3">19. El día del maratón: ciencia y emoción</h3>
                <p className="text-gray-700 leading-relaxed">
                  Desayuna lo probado: infusión de manzanilla con miel, pan blanco con mantequilla y miel y un plátano maduro, tres horas antes. Un trote suave, un calentamiento progresivo y una respiración tranquila.
                  Y entonces, en la línea de salida, comprenderás que todo ha valido la pena. Cada kilómetro entrenado, cada duda superada, cada madrugón. El maratón no se corre solo con las piernas: se corre con la cabeza… y con el corazón.
                </p>
              </div>
            </div>

            <div className="mt-8 bg-gradient-to-r from-amber-50 to-yellow-50 p-8 rounded-xl border-2 border-amber-300">
              <h3 className="text-2xl font-bold text-amber-900 mb-4 text-center">Epílogo</h3>
              <p className="text-gray-700 leading-relaxed text-center">
                Estas reflexiones nacen de una vida dedicada al atletismo y de la fortuna de haber compartido experiencias con grandes atletas como Waldemar Cierpinski, Andrés Espinosa o Julio Rey. De ellos aprendí que el maratón es una obra de arte fisiológica y emocional: precisión, humildad y pasión.
              </p>
              <p className="text-gray-700 leading-relaxed text-center mt-4 font-semibold">
                Si este texto te acompaña en tu preparación, el objetivo ya está cumplido.
              </p>
              <p className="text-center text-xl font-bold text-indigo-700 mt-6">
                Manolo "El Campanero"
              </p>
            </div>
          </div>
        )}
 <!-- Plan Content -->
		<div id="content-plan" class="hidden">
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <h2 class="text-2xl font-bold mb-6">Trainingsplan/Woche</h2>
                <div class="grid md:grid-cols-2 gap-4 mb-6">
                    <button onclick="setPlan('10k')" id="plan10k" class="p-6 bg-indigo-600 text-white rounded-xl">
                        <div class="text-xl font-bold">10K / Halbmarathon</div>
                        <div class="text-sm">4 Tage pro Woche</div>
                    </button>
                    <button onclick="setPlan('marathon')" id="planMarathon" class="p-6 bg-gray-200 rounded-xl">
                        <div class="text-xl font-bold">Marathon</div>
                        <div class="text-sm">5 Tage pro Woche</div>
                    </button>
                </div>
                <div id="planResult"></div>
            </div>
        </div>
    </div>

    <script>
        var currentZiel = '10k';
        var currentPlan = '10k';
        var savedHF = null;
  function changeTab(tab) {
    document.getElementById('content-hf').className = 'hidden';
    document.getElementById('content-zeiten').className = 'hidden';
    document.getElementById('content-tempos').className = 'hidden';
    document.getElementById('content-plan').className = 'hidden';
    document.getElementById('content-empfehlungen').className = 'hidden';
    document.getElementById('content-' + tab).className = '';
    
    document.getElementById('tab-hf').className = 'flex-1 min-w-[100px] py-3 px-4 rounded-xl font-semibold tab-inactive';
    document.getElementById('tab-zeiten').className = 'flex-1 min-w-[100px] py-3 px-4 rounded-xl font-semibold tab-inactive';
    document.getElementById('tab-tempos').className = 'flex-1 min-w-[100px] py-3 px-4 rounded-xl font-semibold tab-inactive';
    document.getElementById('tab-plan').className = 'flex-1 min-w-[100px] py-3 px-4 rounded-xl font-semibold tab-inactive';
    document.getElementById('tab-empfehlungen').className = 'flex-1 min-w-[100px] py-3 px-4 rounded-xl font-semibold tab-inactive';
    document.getElementById('tab-' + tab).className = 'flex-1 min-w-[100px] py-3 px-4 rounded-xl font-semibold tab-active';
    
    if (tab === 'plan') updatePlan();
}

        function setZiel(z) {
            currentZiel = z;
            if (z === '10k') {
                document.getElementById('ziel10k').className = 'px-6 py-3 bg-indigo-600 text-white rounded-xl mr-2';
                document.getElementById('zielMarathon').className = 'px-6 py-3 bg-gray-200 rounded-xl';
            } else {
                document.getElementById('zielMarathon').className = 'px-6 py-3 bg-indigo-600 text-white rounded-xl';
                document.getElementById('ziel10k').className = 'px-6 py-3 bg-gray-200 rounded-xl mr-2';
            }
            calcTempos();
        }

        function setPlan(p) {
            currentPlan = p;
            if (p === '10k') {
                document.getElementById('plan10k').className = 'p-6 bg-indigo-600 text-white rounded-xl';
                document.getElementById('planMarathon').className = 'p-6 bg-gray-200 rounded-xl';
            } else {
                document.getElementById('planMarathon').className = 'p-6 bg-indigo-600 text-white rounded-xl';
                document.getElementById('plan10k').className = 'p-6 bg-gray-200 rounded-xl';
            }
            updatePlan();
        }

        function calcHF() {
            var hf = parseInt(document.getElementById('hfMax').value);
            savedHF = hf;
            if (!hf || hf < 100 || hf > 220) {
                document.getElementById('hfResult').innerHTML = '';
                return;
            }
            
            var html = '<div class="space-y-3">';
            html += '<div class="bg-green-100 p-4 rounded-xl"><div class="font-bold">Erholung (&lt;67%)</div><div class="text-2xl">&lt; ' + Math.round(hf*0.67) + ' Bpm</div></div>';
            html += '<div class="bg-blue-100 p-4 rounded-xl"><div class="font-bold">Zone 1 (68-72%)</div><div class="text-2xl">' + Math.round(hf*0.68) + '-' + Math.round(hf*0.72) + ' Bpm</div></div>';
            html += '<div class="bg-cyan-100 p-4 rounded-xl"><div class="font-bold">Zone 2 (77-79%)</div><div class="text-2xl">' + Math.round(hf*0.77) + '-' + Math.round(hf*0.79) + ' Bpm</div></div>';
            html += '<div class="bg-orange-100 p-4 rounded-xl"><div class="font-bold">Zone 3 (80-84%)</div><div class="text-2xl">' + Math.round(hf*0.80) + '-' + Math.round(hf*0.84) + ' Bpm</div></div>';
            html += '<div class="bg-red-100 p-4 rounded-xl"><div class="font-bold">Zone 4 (85-88%)</div><div class="text-2xl">' + Math.round(hf*0.85) + '-' + Math.round(hf*0.88) + ' Bpm</div></div>';
            html += '<div class="bg-purple-100 p-4 rounded-xl"><div class="font-bold">Wettkampf (89-92%)</div><div class="text-2xl">' + Math.round(hf*0.89) + '-' + Math.round(hf*0.92) + ' Bpm</div></div>';
            html += '</div>';
            document.getElementById('hfResult').innerHTML = html;
        }

        function formatTime(sec) {
            var h = Math.floor(sec / 3600);
            var m = Math.floor((sec % 3600) / 60);
            var s = Math.round(sec % 60);
            if (h > 0) return h + ':' + (m < 10 ? '0' : '') + m + ':' + (s < 10 ? '0' : '') + s;
            return m + ':' + (s < 10 ? '0' : '') + s;
        }

        function formatPace(sec) {
            var m = Math.floor(sec / 60);
            var s = Math.round(sec % 60);
            return m + ':' + (s < 10 ? '0' : '') + s;
        }

        function calcZeiten() {
            var m10 = parseInt(document.getElementById('min10k').value);
            var s10 = parseInt(document.getElementById('sek10k').value) || 0;
            var hM = parseInt(document.getElementById('hMarathon').value);
            var mM = parseInt(document.getElementById('minMarathon').value) || 0;
            
            var times = {};
            if (m10) {
                var t10 = m10 * 60 + s10;
                times.t10 = t10;
                times.t21 = Math.round(t10 * 2.182);
                times.t42 = Math.round(t10 * 4.7);
                document.getElementById('hMarathon').value = '';
                document.getElementById('minMarathon').value = '';
            } else if (hM || mM) {
                var t42 = (hM || 0) * 3600 + mM * 60;
                times.t42 = t42;
                times.t21 = Math.round(t42 / 2.154);
                times.t10 = Math.round(t42 / 4.7);
                document.getElementById('min10k').value = '';
                document.getElementById('sek10k').value = '';
            } else {
                document.getElementById('zeitResult').innerHTML = '';
                return;
            }
            
            var html = '<div class="grid md:grid-cols-3 gap-4">';
            html += '<div class="bg-green-500 text-white p-6 rounded-xl"><div class="text-sm mb-2">10 Kilometer</div><div class="text-3xl font-bold">' + formatTime(times.t10) + '</div><div class="mt-2">Tempo: ' + formatPace(times.t10/10) + '/km</div></div>';
            html += '<div class="bg-blue-500 text-white p-6 rounded-xl"><div class="text-sm mb-2">Halbmarathon</div><div class="text-3xl font-bold">' + formatTime(times.t21) + '</div><div class="mt-2">Tempo: ' + formatPace(times.t21/21.097) + '/km</div></div>';
            html += '<div class="bg-purple-500 text-white p-6 rounded-xl"><div class="text-sm mb-2">Marathon</div><div class="text-3xl font-bold">' + formatTime(times.t42) + '</div><div class="mt-2">Tempo: ' + formatPace(times.t42/42.195) + '/km</div></div>';
            html += '</div>';
            document.getElementById('zeitResult').innerHTML = html;
        }

        function calcTempos() {
            var m10 = parseInt(document.getElementById('tMin10k').value);
            var s10 = parseInt(document.getElementById('tSek10k').value) || 0;
            var hM = parseInt(document.getElementById('tHMarathon').value);
            var mM = parseInt(document.getElementById('tMinMarathon').value) || 0;
            
            var pM, p10;
            if (m10) {
                var t10 = m10 * 60 + s10;
                var t42 = Math.round(t10 * 4.7);
                pM = t42 / 42.195;
                p10 = t10 / 10;
                document.getElementById('tHMarathon').value = '';
                document.getElementById('tMinMarathon').value = '';
            } else if (hM || mM) {
                var t42 = (hM || 0) * 3600 + mM * 60;
                var t10 = Math.round(t42 / 4.7);
                pM = t42 / 42.195;
                p10 = t10 / 10;
                document.getElementById('tMin10k').value = '';
                document.getElementById('tSek10k').value = '';
            } else {
                document.getElementById('tempoResult').innerHTML = '';
                return;
            }
            
            var html = '<div class="space-y-4">';
            html += '<div class="bg-green-100 p-5 rounded-xl"><div class="font-bold text-lg mb-2">Lockerer Lauf (Aerobe Basis)</div><div class="text-2xl font-bold">' + formatPace(pM+60) + ' - ' + formatPace(pM+75) + ' /km</div></div>';
            html += '<div class="bg-orange-100 p-5 rounded-xl"><div class="font-bold text-lg mb-2">Renntempo</div><div class="text-2xl font-bold">' + formatPace(currentZiel==='10k'?p10:pM) + ' /km</div></div>';
            var intMin = (currentZiel==='10k'?p10:pM)+15;
            var intMax = (currentZiel==='10k'?p10:pM)+25;
            html += '<div class="bg-red-100 p-5 rounded-xl"><div class="font-bold text-lg mb-2">Intensiver Lauf</div><div class="text-2xl font-bold">' + formatPace(intMin) + ' - ' + formatPace(intMax) + ' /km</div></div>';
            html += '</div>';
            document.getElementById('tempoResult').innerHTML = html;
        }

        function updatePlan() {
            if (!savedHF) {
                document.getElementById('planResult').innerHTML = '<div class="bg-yellow-100 p-4 rounded-xl border-2 border-yellow-400"><p class="font-semibold">⚠️ Bitte zuerst HF-Max in der ersten Reiter eingeben</p></div>';
                return;
            }
            
            var hf = savedHF;
            var z1 = Math.round(hf * 0.70) + '-' + Math.round(hf * 0.73);
            var z2 = Math.round(hf * 0.77);
            var z3 = Math.round(hf * 0.82) + '-' + Math.round(hf * 0.84);
            var z4 = Math.round(hf * 0.88) + '-' + Math.round(hf * 0.92);
            
            var html = '<div class="space-y-4"><h3 class="text-xl font-bold mb-4">Dein personalisierter Plan:</h3>';
            
            if (currentPlan === '10k') {
                html += '<div class="bg-blue-500 text-white p-5 rounded-xl"><div class="text-sm mb-1">Dienstag</div><div class="text-xl font-bold">Qualitätstraining</div><div class="text-lg mt-2">' + z3 + ' ppm (82-84%)</div><div class="mt-1">40-50 Minuten</div></div>';
                html += '<div class="bg-green-500 text-white p-5 rounded-xl"><div class="text-sm mb-1">Donnerstag</div><div class="text-xl font-bold">Leichter Lauf</div><div class="text-lg mt-2">' + z1 + ' ppm (70-73%)</div><div class="mt-1">40-60 Minuten</div></div>';
                html += '<div class="bg-red-500 text-white p-5 rounded-xl"><div class="text-sm mb-1">Samstag</div><div class="text-xl font-bold">Intensives Training</div><div class="text-lg mt-2">' + z4 + ' ppm (88-92%)</div><div class="mt-1">30-40 Minuten</div></div>';
                html += '<div class="bg-green-500 text-white p-5 rounded-xl"><div class="text-sm mb-1">Sonntag</div><div class="text-xl font-bold">Langer Lauf</div><div class="text-lg mt-2">' + z1 + ' ppm (70-73%)</div><div class="mt-1">80-90 Minuten</div></div>';
            } else {
                html += '<div class="bg-blue-500 text-white p-5 rounded-xl"><div class="text-sm mb-1">Dienstag</div><div class="text-xl font-bold">Qualitätstraining</div><div class="text-lg mt-2">' + z3 + ' ppm (82-84%)</div><div class="mt-1">50-60 Minuten</div></div>';
                html += '<div class="bg-yellow-500 text-white p-5 rounded-xl"><div class="text-sm mb-1">Mittwoch</div><div class="text-xl font-bold">Leichter Lauf</div><div class="text-lg mt-2">~' + z2 + ' ppm (77%)</div><div class="mt-1">90-100 Minuten</div></div>';
                html += '<div class="bg-green-500 text-white p-5 rounded-xl"><div class="text-sm mb-1">Donnerstag</div><div class="text-xl font-bold">Leichter Lauf</div><div class="text-lg mt-2">' + z1 + ' ppm (70-73%)</div><div class="mt-1">45-60 Minuten</div></div>';
                html += '<div class="bg-red-500 text-white p-5 rounded-xl"><div class="text-sm mb-1">Samstag</div><div class="text-xl font-bold">Intensives Training</div><div class="text-lg mt-2">' + z4 + ' ppm (88-92%)</div><div class="mt-1">30-40 Minuten</div></div>';
                html += '<div class="bg-green-500 text-white p-5 rounded-xl"><div class="text-sm mb-1">Sonntag</div><div class="text-xl font-bold">Langer Lauf</div><div class="text-lg mt-2">' + z1 + ' ppm (70-73%)</div><div class="mt-1">120-170 Minuten</div></div>';
            }
            
            html += '</div>';
            document.getElementById('planResult').innerHTML = html;
        }

        document.getElementById('hfMax').addEventListener('input', calcHF);
        document.getElementById('min10k').addEventListener('input', calcZeiten);
        document.getElementById('sek10k').addEventListener('input', calcZeiten);
        document.getElementById('hMarathon').addEventListener('input', calcZeiten);
        document.getElementById('minMarathon').addEventListener('input', calcZeiten);
        document.getElementById('tMin10k').addEventListener('input', calcTempos);
        document.getElementById('tSek10k').addEventListener('input', calcTempos);
        document.getElementById('tHMarathon').addEventListener('input', calcTempos);
        document.getElementById('tMinMarathon').addEventListener('input', calcTempos);
    </script>
</body>
</html>